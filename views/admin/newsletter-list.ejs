<%- include('./../includes/head.ejs'); %>
    <title><%= pageTitle %></title>
</head>
<body>
    <div class="admin-dashboard">
        <div class="admin-dashboard__grid">
            <div class="admin-dashboard__container-menu">
                <%- include('./../includes/admin-menu.ejs'); %>
            </div>
            <div class="admin-dashboard__container-content">
                <div class="admin-dashboard__container-articles">
                    <div class="admin-dashboard__articles-buttons">
                        <a class="button button__white" href="/admin/add-new-newsletter-list">Add New Email</a>
                    </div>
                </div>
                <table class="admin-dashboard__table-articles">
                    <tr>
                        <th><h4 class="body-3">ID</h4></th>
                        <th><h4 class="body-3">Name</h4></th>
                        <th><h4 class="body-3">Email</h4></th>
                        <th><h4 class="body-3">Date</h4></th>
                        <th><h4 class="body-3">Edit</h4></th>
                        <th><h4 class="body-3">Delete</h4></th>
                    </tr>
                    <%
                    const setDateNowFormat = getTheDate => {
                        const setDateObj = new Date(getTheDate);

                        // Day
                        let setTheDay = setDateObj.getDate();
                        if (setTheDay < 10) setTheDay = `0${setTheDay}`;

                        // Month
                        let setTheMonth = setDateObj.getMonth() + 1;
                        if (setTheMonth < 10) setTheMonth = `0${setTheMonth}`;

                        // Year
                        let setTheYear = setDateObj.getFullYear();

                        // Output
                        const output = `${setTheDay}/${setTheMonth}/${setTheYear}`;
                        return output;
                    }
                    %>
                    <% for (let index = 0; index < newsletterList.length; index++) { %>
                    <tr>
                        <td><p class="body-4"><%= newsletterList[index].id %></p></td>
                        <td><p class="body-4"><%= newsletterList[index].name %></p></td>
                        <td><p class="body-4"><%= newsletterList[index].email %></p></td>
                        <td><p class="body-4"><%= setDateNowFormat(newsletterList[index].subscribed) %></p></td>
                        <td><a class="button button__white" href="/admin/edit-newsletter-user/<%= newsletterList[index].id %>">Edit</a></td>
                        <td><a class="button button__white" href="#">Delete</a></td>
                    </tr>
                    <% } %>
                </table>
            </div>
        </div>
    </div>
